---
interface Props {
  id: string;          // 影片ID
  title?: string;
  autoplay?: boolean;
}
const { id, title = "YouTube video", autoplay = false } = Astro.props;
const src = `https://www.youtube-nocookie.com/embed/${id}?rel=0&modestbranding=1&playsinline=1${autoplay ? "&autoplay=1&mute=1" : ""}`;
---

<div class="yt">
  <iframe
    src={src}
    title={title}
    loading="lazy"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen
  ></iframe>
</div>

<style>
  .yt { position:relative; width:100%; aspect-ratio:16/9; background:#000; border-radius:12px; overflow:hidden; }
  .yt iframe { position:absolute; inset:0; width:100%; height:100%; border:0; }
</style>
